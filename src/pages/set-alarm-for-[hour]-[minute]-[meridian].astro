---
/**
 * SEO Pages for Alarm Clock
 * Generates static pages for each hour/minute/meridian combination
 * Example: /set-alarm-for-7-00-am/
 */

import BaseLayout from '../layouts/BaseLayout.astro';
import AlarmClock from '../components/alarm/AlarmClock.astro';
import { t, getLocaleFromPath } from '../scripts/i18n';

// Generate all possible alarm time combinations
export async function getStaticPaths() {
  const paths = [];

  // Hours: 1-12
  const hours = Array.from({ length: 12 }, (_, i) => i + 1);

  // Minutes: 00, 05, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55
  const minutes = [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55];

  // Meridians: AM, PM
  const meridians = ['am', 'pm'] as const;

  for (const hour of hours) {
    for (const minute of minutes) {
      for (const meridian of meridians) {
        paths.push({
          params: {
            hour: hour.toString(),
            minute: minute.toString().padStart(2, '0'),
            meridian: meridian,
          },
        });
      }
    }
  }

  return paths;
}

const { hour, minute, meridian } = Astro.params;
const locale = getLocaleFromPath(Astro.url.pathname);

// Parse params
const hourNum = parseInt(hour || '7');
const minuteNum = parseInt(minute || '0');
const meridianUpper = (meridian || 'am').toUpperCase() as 'AM' | 'PM';

// Create SEO-friendly title and description
const timeString = `${hour}:${minute} ${meridianUpper}`;
const title = `Set Alarm for ${timeString} - Online Alarm Clock`;
const description = `Set a free online alarm for ${timeString}. Wake up on time with our reliable alarm clock. No registration required, works in your browser.`;

// Keywords for this specific time
const keywords = `set alarm for ${timeString}, ${hour}${meridian} alarm, wake up at ${timeString}, online alarm ${timeString}`;
---

<BaseLayout title={title} description={description} keywords={keywords}>
  <div class="container mx-auto px-4 py-12">
    <!-- SEO-Optimized Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4">
        {t(locale, 'alarm.setAlarmFor', { time: timeString })}
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        {description}
      </p>
    </div>

    <!-- Alarm Clock Component with Preset Values -->
    <AlarmClock
      presetHour={hourNum}
      presetMinute={minuteNum}
      presetMeridian={meridianUpper}
    />

    <!-- SEO Content Section -->
    <div class="max-w-4xl mx-auto mt-12 prose dark:prose-invert">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
        How to Set an Alarm for {timeString}
      </h2>

      <div class="space-y-4 text-gray-600 dark:text-gray-400">
        <p>
          Setting an alarm for <strong>{timeString}</strong> is easy with our free online alarm clock.
          Simply click the "Set Alarm" button above, and your alarm will be ready to wake you up at exactly {timeString}.
        </p>

        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">
          Features:
        </h3>
        <ul class="list-disc list-inside space-y-2">
          <li>Customizable alarm sounds</li>
          <li>Repeat alarm option for daily wake-ups</li>
          <li>Works in your browser - no download required</li>
          <li>Reliable and accurate timing</li>
          <li>Browser notifications when alarm rings</li>
          <li>Custom alarm titles and labels</li>
        </ul>

        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">
          Why Use an Online Alarm Clock?
        </h3>
        <p>
          Our online alarm clock is perfect for when you need a reliable wake-up call. Whether you're
          taking a nap, need to wake up for work, or have an important meeting, setting an alarm for {timeString}
          ensures you won't oversleep.
        </p>

        <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-6">
          <p class="text-sm text-blue-900 dark:text-blue-100 mb-0">
            <strong>ðŸ’¡ Tip:</strong> Keep this tab open and your computer on for the alarm to work properly.
            You can also bookmark this page to quickly set an alarm for {timeString} anytime.
          </p>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
